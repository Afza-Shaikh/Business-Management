{% extends 'base.html' %}
{% block content %}
<h1 class="title">Stock Movement Report</h1>
<table class="table is-fullwidth is-striped">
	<thead>
		<tr><th>Date</th><th>Product</th><th>Sub-Type</th><th>Action</th><th>Qty</th><th>Old Price</th><th>New Price</th><th>By</th></tr>
	</thead>
	<tbody>
		{% for r in records %}
		<tr>
			<td>{{ r.timestamp.strftime('%Y-%m-%d %H:%M') }}</td>
			<td>{{ r.product.name if r.product else '' }}</td>
			<td>{{ r.sub_type or '-' }}</td>
			<td>{{ r.action }}</td>
			<td>{{ r.quantity or '' }}</td>
			<td>{{ r.old_price if r.old_price is not none else '' }}</td>
			<td>{{ r.new_price if r.new_price is not none else '' }}</td>
			<td>{{ r.performed_by or '' }}</td>
		</tr>
		{% else %}
		<tr><td colspan="8" class="has-text-centered has-text-grey">No records.</td></tr>
		{% endfor %}
	</tbody>
</table>
{% endblock %}
